$def with (name, data, requests)
<html>
	<head>
		
		<meta charset="utf-8">
		    <meta http-equiv="X-UA-Compatible" content="IE=edge">
		    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		    <meta name="description" content="">
		    <meta name="author" content="">
		    <link rel="shortcut icon" href="../../docs-assets/ico/favicon.png">

		    <!-- Bootstrap core CSS -->
		    <link href="/static/dist/css/bootstrap.css" rel="stylesheet">

		    <!-- Custom styles for this template -->
		    <!--<link href="grid.css" rel="stylesheet">-->

		    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		    <!--[if lt IE 9]>
		      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
		    <![endif]-->
		
		<script 
			src="/static/js/libraries/jquery-1.9.0.js"
			type="text/javascript" >
		</script>
		
		<script type="text/javascript">
			//Call all the user's stuff ... display their details ...
			//and the review requests they've been given.
			
			// Called when someone changes their email, year, etc.
			function save_user_data_changes(){
				// Grabs everything in the form
				user_data = jQuery("#user_data").serializeArray()
				user_login = "$data.login"
				// 'login' isn't in the form, but it's necessary to update
				user_data.push({"name":"login", "value":user_login})
				//jQuery.get("/users/edit/"+user_name)
				jQuery.post("/edit/"+user_login,
							JSON.stringify(user_data),
							function () {
								window.location = "/users/"+user_login
							}
				)
			}
			
			// Called when someone sends a submission
			function submit_review_request(){
				// Get the form data: Abstract, Title, etc.
				submission = jQuery("#submission").serializeArray()
				// Identify it -- this isn't in the form
				submission.push({"name":"author", "value":"$data.login"})

				jQuery.post("/submit",
					JSON.stringify(submission),
					function () {
						window.location = "/users/"+"$data.login"
					}
				)
			}
			
			// Called when someone says if they can do a review or not
			function yes_response(){
				alert("Yes!")
			}
			
			function no_response(){
				alert("No!")
			}

			// Selects the correct milestone
			jQuery(document).ready(function () {
				milestone="$data.milestone"
				ms = jQuery("option[value='"+milestone+"']")
				ms.attr('selected', 'selected')
				
				//
				// CHECK FOR REVIEW REQUESTS TO THIS PERSON!
				//
				num_requests = $len(requests)
				ra = jQuery("#request_alert")
									
				if(num_requests == 0){
					// This needs to be a lot prettier
					ra.append("<h4>You do not have any reviews \
					 			to respond to right now.</h4>")
				} else {
				
					if(num_requests == 1){
						ra.append("<h4>You have one review to \
									respond to:</h4>")
					}
					if(num_requests > 1){
						ra.append("<h4>You have several reviews to \
						 			respond to:</h4>")
						// Maybe show a list, click on one to see
						// the whole thing?
					}
					
					jQuery("#request_title").text("$requests[0].title")
					jQuery("#request_abstract").text("$requests[0].abstract")
					jQuery("#request_notes").text("$requests[0].notes")
					jQuery("#request_timeline").text("$requests[0].timeline")
					
					
				}
				
			})
			
			
		</script>
	</head>
	
	<body style="background-color:lightgray;
				 "
		>
		<!-- Container, profile, submit, and accept-->
		<div id="container"
			 style="width:1200px;
					height:540px;
					margin:auto;
					margin-top:40px;
					position:relative;
					"
			>
			
			<div id="review_notice_container"
				 class="container"
				 style="position:absolute;
						width:890px;
						height:260px;
						background-color:white;
						"
				>
				
				<div id="request_alert"></div>
				
				<div class="col-md-7">
					<div id="request_title"
						 class="col-md-12"
						 style="font-weight:bold;
						        height:20px"
					></div>
					<div id="request_abstract"
						 class="col-md-12"
						 style="height:150px"
					></div>
				</div>
				
				<div class="col-md-5">
					<div id="request_notes"
						 class="col-md-12"
						 style="height:150px"
					></div>
					<div id="request_timeline"
						 class="col-md-12"
					></div>
				</div>
				
				<div class="col-md-6"
					 style="font-weight:bold;
							top:10px;
							float:right;
							"
				>
					<input type="button"
						   class="btn btn-primary"
						   value="Yes, I can review this paper."
						   onclick="yes_response()"
						   style="background-color:lime"
					>
					<input type="button"
						   class="btn btn-primary"
						   value="No, I don't have time now"
						   onclick="no_response()"
						   style="background-color:red"
					>
				</div>
			</div>
			
			<div id="submission_container"
				 style="position:absolute;
						width:890px;
						height:260px;
						background-color:white;
						top:280px;
						"
				>
				
				
				<form style="left:20px;
							 position:absolute
							"
					  id="submission"
					  class="col-md-11"
					  role="form"
				>
					<h4>Submit A Review Request</h4>
					<!--First col: Title and Abstract-->
					<div class="col-md-7">
						<input
							class="col-md-12"
							type="text"
							name="title"
							placeholder="Title"
						>
						<p>
						<textarea
							class="col-md-12"
							style="height:150px
								   "
							name="abstract"
							placeholder="Abstract"
						></textarea>
						
					</div>
					
					<!-- Second col: notes, timeline, and button-->
					<div class="col-md-5">
						
						<textarea
							class="col-md-12"
							style="height:150px"
							name="notes"
							placeholder="Notes, e.g. things to focus on."
						></textarea>
						
					    <input
							class="col-md-12"
							type="number"
							name="timeline"
							placeholder="I would like this back in X days"
						>
						
					
						<input
							type="button"
							onclick="submit_review_request()"
							style="float:right"
							value="Send Review Request"
						>
						
						
						
						
						
					</div>
				
				</form>
				
			</div>
			
			<div id="user_data_container"
				 style="position:absolute;
						left:910px;
						background-color:blue;
						width:290px;
						height:540px;
						"
				>
				<form style="left:20px;
							 top:20px;
							 position:absolute;
							"
					  id="user_data"
							>
							
					Login:
					$data.login
					<p>
						
					Name: <input 
								type='text'
								name="name"
								style="float:right"
								value="$data.name"
					><p>
					
					Email: <input 
								type='text'
								name="email"
								style="float:right"
    					    	value="$data.email"
					><p>
					Year:  <input 
								type='text'
						   		name="year"
								style="float:right"
						   		value="$data.year"
					><p>
					Last Milestone:
					<select 
						name="milestone"
						style="float:right"
					>
						<option value="None yet">None yet</option>
						<option value="1st Paper">1st Paper</option>
						<option value="2nd Paper">2nd Paper</option>
						<option value="Proposal">Proposal</option>
					</select><p>
						
					Expertise:
					<p> 
					<textarea
						name="expertise"
						style="height:100px; width:250px"
						value="$data.expertise"
					>$data.expertise</textarea>
					
					<p>
					Submitted: 
					$data.submitted
					<p>
					Reviewed:
					$data.reviewed
					<p>
					Dropped:
					$data.dropped
					<p>
						
					<!-- WHY DO THIS BEHAVE DIFFERENTLY FROM <BUTTON> ?-->
					<input type='button'
						   value='Click to Save Changed Values'
						   onclick="save_user_data_changes()"
					><p>

						
				</form>
				
			</div>

		</div><!-- closes 'container' -->

	</body>

</html>